# Name: ax_ipcheck v0.1 
# Type: Public plugin
# Show parts of a page depending on the client's IP address 
# Author: eliph
# URL: https://github.com/eliph/ax_ipcheck
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern CMS - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjEwOiJheF9pcGNoZWNrIjtzOjY6ImF1dGhvciI7czo1OiJl
bGlwaCI7czoxMDoiYXV0aG9yX3VyaSI7czozNToiaHR0cHM6Ly9naXRodWIuY29tL2VsaXBo
L2F4X2lwY2hlY2siO3M6NzoidmVyc2lvbiI7czozOiIwLjEiO3M6MTE6ImRlc2NyaXB0aW9u
IjtzOjU4OiJTaG93IHBhcnRzIG9mIGEgcGFnZSBkZXBlbmRpbmcgb24gdGhlIGNsaWVudCdz
IElQIGFkZHJlc3MgIjtzOjQ6ImNvZGUiO3M6OTAwOiIkcGx1Z2luWyduYW1lJ10gPSAnYXhf
aXBjaGVjayc7DQokcGx1Z2luWydhbGxvd19odG1sX2hlbHAnXSA9IDE7DQokcGx1Z2luWyd2
ZXJzaW9uJ10gPSAnMC4xJzsNCiRwbHVnaW5bJ2F1dGhvciddID0gJ2VsaXBoJzsNCiRwbHVn
aW5bJ2F1dGhvcl91cmknXSA9ICdodHRwczovL2dpdGh1Yi5jb20vZWxpcGgnOw0KJHBsdWdp
blsnZGVzY3JpcHRpb24nXSA9ICdTaG93IHBhcnRzIG9mIGEgcGFnZSBkZXBlbmRpbmcgb24g
dGhlIGNsaWVudCBJUCBhZGRyZXNzJzsNCiRwbHVnaW5bJ29yZGVyJ10gPSAnNSc7DQokcGx1
Z2luWyd0eXBlJ10gPSAnNSc7DQoNCmlmIChjbGFzc19leGlzdHMoJ1xUZXh0cGF0dGVyblxU
YWdcUmVnaXN0cnknKSkgew0KICBUeHA6OmdldCgnXFRleHRwYXR0ZXJuXFRhZ1xSZWdpc3Ry
eScpDQogICAgLT5yZWdpc3RlcignYXhfaXBjaGVjaycpOw0KfQ0KDQpmdW5jdGlvbiBheF9p
cGNoZWNrKCRhdHRzLCAkdGhpbmc9JzEnKSB7DQogICAgICBleHRyYWN0KGxBdHRzKGFycmF5
KA0KICAgICAgICAgICdmcm9taXAnID0+ICcnLA0KICAgICAgICAgICd0b2lwJyA9PiAnJw0K
ICAgICAgKSwkYXR0cykpOw0KICAgJGlwX2xvdyA9IGlwMmxvbmcoJGZyb21pcCk7DQogICAk
aXBfaGlnaCA9IGlwMmxvbmcoJHRvaXApOw0KICAgJHVzZXJfaXAgPSBpcDJsb25nKCRfU0VS
VkVSWydSRU1PVEVfQUREUiddKTsNCiAgLy9jaGVjayBmb3IgYWxsb3dlZCBjbGllbnRzDQog
IGlmICgkdXNlcl9pcD4kaXBfbG93ICYmICR1c2VyX2lwPCRpcF9oaWdoKQ0KICAgIHsNCiAg
ICAgJHJlc3VsdCA9IDE7DQogICAgfQ0KICBlbHNlDQogICAgew0KICAgICAkcmVzdWx0ID0g
MDsNCiAgICB9DQogICByZXR1cm4gcGFyc2UoRXZhbEVsc2UoJHRoaW5nLCRyZXN1bHQpKTsN
CiAgICAgICAgfQ0KDQoiO3M6NDoidHlwZSI7czoxOiIwIjtzOjU6Im9yZGVyIjtzOjE6IjUi
O3M6NToiZmxhZ3MiO3M6MToiMCI7czo0OiJoZWxwIjtzOjEyNTE6IjxzdHlsZT4KICAgbGkg
Y29kZSB7Zm9udC13ZWlnaHQ6IGJvbGQ7fQogICBwcmUge3BhZGRpbmc6IDAuNWVtIDFlbTsg
YmFja2dyb3VuZDogI2VlZTsgYm9yZGVyOiAxcHggZGFzaGVkICNjY2M7fQogICBoMSwgaDIs
IGgzLCBoMyBjb2RlIHtmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC13ZWlnaHQ6IGJv
bGQ7fQogICBoMSwgaDIsIGgzIHttYXJnaW4tbGVmdDogLTFlbTt9CiAgIGgyLCBoMyB7bWFy
Z2luLXRvcDogMmVtO30KICAgaDEge2ZvbnQtc2l6ZTogM2VtO30KICAgaDIge2ZvbnQtc2l6
ZTogMmVtO30KICAgaDMge2ZvbnQtc2l6ZTogMS41ZW07fQogICBsaSBhIGNvZGUge2ZvbnQt
d2VpZ2h0OiBub3JtYWw7fQogICAucmVxdWlyZWQsIC53YXJuaW5nIHtjb2xvcjpyZWQ7fQog
PC9zdHlsZT4KCjxoMT5heF9pcGNoZWNrPC9oMT4KCjxwPlRoaXMgbGV0cyB5b3Ugc2hvdyBw
YXJ0cyBvZiBhIHBhZ2Ugb25seSB0byB2aXNpdG9ycyB3aXRoIGFuIGFsbG93ZWQgSVAgcmFu
Z2Ugb2YgdGhlIGNsaWVudC4gVGVzdGVkIHdpdGggPGEgaHJlZj0iaHR0cHM6Ly90ZXh0cGF0
dGVybi5jb20vIj5UZXh0cGF0dGVybjwvYT4gdjQuNy4yIGFuZCB2NC44LjQuPC9wPgoKPHA+
PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2VsaXBoL2F4X2lwY2hlY2svYmxvYi9tYWlu
L2F4X2lwY2hlY2tfMDEwLnR4dCI+PHNwYW4gY2xhc3M9ImNhcHMiPkRPV05MT0FEPC9zcGFu
PjwvYT48L3A+Cgo8aDI+VGFnczwvaDI+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXhfaXBjaGVj
ayBmcm9taXA9JnF1b3Q7Li4uJnF1b3Q7IHRvaXA9JnF1b3Q7Li4uJnF1b3Q7Jmd0OzwvY29k
ZT48L3ByZT4KCjxoMj5FeGFtcGxlPC9oMj4KCjxwcmU+PGNvZGU+Jmx0O3R4cDpheF9pcGNo
ZWNrIGZyb21pcD0mcXVvdDsxOTIuMTY4LjAuMCZxdW90OyB0b2lwPSZxdW90OzE5Mi4xNjgu
MjU1LjI1NSZxdW90OyZndDsKICAgIElQIGFkZHJlc3MgaXMgb2sKJmx0O3R4cDplbHNlIC8m
Z3Q7CiAgICBJUCBhZGRyZXNzIGlzIG5vdCBvawombHQ7L3R4cDpheF9pcGNoZWNrJmd0Ozwv
Y29kZT48L3ByZT4KCjxoMj5Ob3RlczwvaDI+Cgo8cD5JZiBtb3JlIHRoYW4gb25lIElQIHJh
bmdlIGlzIHJlcXVpcmVkLCB0aGUgPHNwYW4gY2xhc3M9ImNhcHMiPlBIUDwvc3Bhbj4gY29k
ZSBtdXN0IGJlIGNoYW5nZWQuPC9wPgoKPGgyPlZlcnNpb24gaGlzdG9yeTwvaDI+Cgo8cD4w
LjEgJiM4MjExOyBEZWNlbWJlciAyMDIwPGJyIC8+CmZpcnN0IHJlbGVhc2UuPC9wPiI7czoz
OiJtZDUiO3M6MzI6IjgwNmMwYTRhNzRlMmE3ZjNiMTAyMzVlZmQ1YzNjNzQ5Ijt9
